# parasoft-coverage-action

[![Build](https://github.com/parasoft/parasoft-coverage-action/actions/workflows/build.yml/badge.svg)](https://github.com/parasoft/parasoft-coverage-action/actions/workflows/build.yml)
[![CodeQL](https://github.com/parasoft/parasoft-coverage-action/actions/workflows/codeql-analysis.yml/badge.svg)](https://github.com/parasoft/parasoft-coverage-action/actions/workflows/codeql-analysis.yml)
[![Test](https://github.com/parasoft/parasoft-coverage-action/actions/workflows/test.yml/badge.svg)](https://github.com/parasoft/parasoft-coverage-action/actions/workflows/test.yml)

This action allows you to view Parasoft coverage report results directly on GitHub.
For more information about Parasoft tools, visit the [official Parasoft website](http://www.parasoft.com).

- [Quick Start](#quick-start)
- [Example Workflows](#example-workflows)
- [Action Parameters](#action-parameters)

## Quick Start

To display Parasoft coverage results on GitHub, you need to customize your GitHub workflow to include:
- The action to parse the coverage report generated by Parasoft tools to GitHub.

### Adding the Run Parasoft Coverage Action to a GitHub Workflow
Add the `Run Parasoft Coverage` action to your workflow to parse Parasoft coverage reports, enabling results to be shown on GitHub.

Once the action is complete, the coverage results will be shown as a GitHub job summary.

```yaml
- name: Run Parasoft Coverage
  uses: parasoft/parasoft-coverage-action@1.0.0
  with:
    # Specify a path to a folder or file for the Parasoft coverage report.
    report: 'path/to/report'
    # Specify a path to Parasoft tool installation folder or Java installation folder.
    parasoftToolOrJavaRootPath: 'path/to/java';
```

### (Optional) Uploading Cobertura Report to GitHub
You can upload Parasoft Cobertura XML report to GitHub as an artifact.

Example
```yaml
- name: Upload Report Artifact
  uses: actions/upload-artifact@v4
  with:
    name: ParasoftCoberturaReports # Artifact name
    path: ./parasoft-merged-cobertura.xml # Path to the merged Cobertura report file
```

## Example Workflows

Here is a basic workflow example to help you get started with the Run Parasoft Coverage action:

```yaml
name: Run Parasoft Coverage

on:
  # Trigger the workflow on push or pull request events but only for the master (main) branch.
  push:
    branches: [ master, main ]
  pull_request:
    branches: [ master, main ]

  # Allows you to run this workflow manually from the Actions tab.
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel.
jobs:
  build:
    # Specifies the name of the job.
    name: Run Parasoft Coverage Action

    # Specifies the type of runner that the job will run on.
    runs-on: self-hosted

    # Steps represent a sequence of tasks that will be executed as part of the job.
    steps:
      # Checks out your repository under $GITHUB_WORKSPACE, so that your job can access it.
      - name: Checkout repository
        uses: actions/checkout@v4

      # Run the Parasoft Coverage action.
      - name: Run Parasoft Coverage
        uses: parasoft/parasoft-coverage-action@1.0.0
        with:
            # Specify a path to a folder or file for the Parasoft coverage report.
            report: 'path/to/report'
            # Specify a path to Parasoft tool installation folder or Java installation folder.
            parasoftToolOrJavaRootPath: 'path/to/java';
```

## Action Parameters
The following inputs are available for this action:
| Input | Description |
| --- | --- |
| `report` | Required. Path to a folder or file for the Parasoft coverage report.|
| `parasoftToolOrJavaRootPath` | Path to Parasoft tool installation folder or Java installation folder. If not specified, it defaults to the value of the JAVA_HOME environment variable.|
